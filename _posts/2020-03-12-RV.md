---
layout : post 
title : (정리) 확률 
---

### About this doc 
- 이 포스팅에서는 확률변수를 정의하는 방법에 대하여 다룬다. 

### 확률변수 

- (예제1) 동전을 던지면 앞면과 뒷면 중 하나가 나오게 될것이다. 이를 집합으로 $\\{H,T\\}$와 같이 표현하였다고 하자. 
여기에서 $\\{H,T\\}$를 sample space라고 정의하고 기호로는 $\Omega$와 같이 쓰자. 즉 아래와 같이 정의한다. 
\begin{align}
\Omega=\\{H,T\\}
\end{align}
공평한 동전이라면 동전이 앞면이 나올 확률, 뒷면이 나올 확률을 아래와 같이 정의할 수 있다. 
\begin{align}
P(\\{H\\})=P(\\{T\\})=\frac{1}{2}
\end{align}

- (예제2) 이와 유사하게 윷을 던지는 상황에서도 아래와 같이 sample space를 정의할 수 있다. 
\begin{align}
\Omega=\\{도,개,걸,윳,모\\}
\end{align}
각 윳이 뒤집힐확률이 0.5라고 가정한다면 모가 나올 확률은 1/16이다. 다른 경우도 각각의 확률을 적당히 정의할 수 있다. 
\begin{align}
P(\\{도\\})=\frac{4}{16} \\\\ \\
P(\\{개\\})=\frac{6}{16} \\\\ \\
P(\\{걸\\})=\frac{4}{16} \\\\ \\
P(\\{윷\\})=\frac{1}{16} \\\\ \\
P(\\{모\\})=\frac{1}{16}
\end{align}

- (예제3) sample space의 원소수가 유한이 아니라 무한개인 경우도 생각할 수 있다. 예를 들어서 시계바늘을 돌려서 시계바늘이 가르키는 시간을 sample space로 정의할 수 있다. 이 경우 확률은 기하학적 확률로 자연스럽게 정의할 수 있다. 

- 보는것처럼 sample space 의 원소는 실수로 구성되어있지 않다. 이제부터 sample space의 원소를 어떠한 실수값으로 맵핑하도록 하겠다. 왜 이런것이 필요할까? sample space의 원소를 실수로 맵핑시켜놓으면 여러가지 장점이 있는데 예를들면 기대값 혹은 분산따위를 정의하고 구할 수 있다. 가령 윳을 던져서 내가 평균 몇칸을 이동할 수 있을지 계산하고 싶다고 하자. 도가나오면 1칸, 개가 나오면 2칸, ... 모가 나오면 5칸을 움직인다고 할때 평균적으로 움직여질 것이라 기대되는 값은 아래와 같이 계산할 수 있다. 
\begin{align}
\frac{4\times 1+6\times 2+4\times 3+1\times 4+1\times 5}{16}
\end{align}
이는 아래와 같은 맵핑 $X$를 정의한 셈이다. 
\begin{align}
X(\\{도\\})=1 \\\\ \\
X(\\{개\\})=2 \\\\ \\
X(\\{걸\\})=3 \\\\ \\ 
X(\\{윷\\})=4 \\\\ \\
X(\\{모\\})=5
\end{align}
따라서 $X$는 $\Omega$ 에서 $\mathbb{R}$ 로 가는 어떠한 함수라고 생각할 수 있다. 이러한 함수 $X$를 랜덤변수 혹은 확률변수 라고 부른다. 

- 예제1의 경우에도 앞면이면 0 뒷면이면 1 이라는 식으로 랜덤변수를 정의할 수 있다. 예제3의 경우도 시계침이 이루는 각도를 랜덤변수로 정의할수 있다. 즉 이 경우는 $X$는 $[0,2\pi)$중 하나의 값이 된다. $X=0$는 바늘이 12시를 가르킬 경우, 그리고 $X=\pi$는 바늘이 6시를 가르킬 경우를 의미한다. 

- 랜덤변수를 정의하는건 생각보다 쉽지가 않다. 왜냐하면 랜덤변수에 대응하는 확률을 **모순없이** 정의해야 하기 때문이다. 가령 예제1과 같은 경우 (1) 동전을 던져 앞면이 나올 확률은 0.5이고 (2) 동전을 던져 뒷면이 나올확률은 0.5라는 정보만 가지고 (a) 뒷면이 나올 확률이 1이며 (b) 동전을 던져 앞면도 뒷면도 나오지 않을 확률은 0이라는 정보를 **자연스럽게 모순없이** 유추할 수 있어야 한다. 이것을 바꾸어 말하면 $\Omega$에 존재하는 모든 부분집합에 대하여 확률을 모순없이 정의할 수 있어야 한다는 말이다. 

- 이 원리는 너무 당연해 보이지만 예제3의 경우 그렇게 당연하지 않다. 편의상 $\Omega=[0,2\pi)$라고 생각하고 확률은 길이의 비율로 정의하자. 예를들어서 $X \in [0,\pi]$일 확률은 
\begin{align}
\frac{\pi}{2\pi}=\frac{1}{2}
\end{align}
와 같은 식으로 정의한다. 첫번째 도전적인 질문은 $X=0$일 확률이 얼마냐는 것이다. 즉 바늘침이 정확하게 12시를 가르킬 확률이 얼마냐는 것이다. 한 점으로 이루어진 집합 $\\{0\\}$은 분명히 $\Omega=[0,2\pi)$의 부분집합 이므로 앞서 논의한대로라면 이러한 집합에 대한 확률을 **명확하게, 모순없이** 정의할 수 있어야 한다. 많은 사람들이 이 질문에 대한 답은 $0$ 이라고 알고 있고 그 이유를 ''점의 길이는 0 이니까'' 라고 이해하고 있다. 다만 이것은 다소 의문이 남는 말인데 이는 아래와 같은 추가질문들이 가능하기 때문이다. <br/><br/>
(1) $\emptyset\neq \\{0\\}$ 인데, $P(\emptyset)=P(\\{0\\})=0$ 임은 이상하지 않은가? <br/>
(2) 점 하나의 길이가 0이라고 치자. 그럼 점 2개의 길이도 0인가? <br/><br/> 
첫번째 질문에 대한 대답을 그렇다라고 우길 수 있다. (이렇게 약속하자라는 식으로 말하면 된다.) 두번째 질문에 대한 대답은 0+0=0이므로 0이라고 주장할 수 있다. 그렇다면 아래의 질문을 생각해보자. <br/><br/>
(3) $[0,2\pi)$은 점들이 무수히 많이 모여 이루어진 집합이라고 해석할 수 있다. 점 하나의 길이는 정확히 0이다. 0을 무한번 더하여도 0이므로 $[0,2\pi)$의 길이도 0이어야 하지 않은가? <br/><br/>
이 질문의 대답은 쉽지 않다. $P[0,2\pi)=0$ 임을 인정하면 전체확률은 1이어야 한다는 기본상식에 어긋난다. 하지만 (3)에 대한 논리는 그럴듯해 보인다. 따라서 이 질문에 대한 대답을 하려면 약간의 직관적인 가정을 덧붙여야 한다. 예를들면 ''점들을 유한번 합치면 그냥 많은 점들이지만 무한히 합치면 이것은 선분이 된다. 따라서 길이가 생긴다.'' 라는 식으로 설명할 수 있다. 그렇다면 아래의 질문은 어떻게 대답할 수 있을까? <br/><br/>
(4) $[0,2\pi)$ 에서 유리수만 뽑아낸 집합이 있다고 생각하자. 이 집합은 분명히 무한개의 점을 포함하고 있다. 그렇다면 이 집합도 길이가 있는가? 있다면 얼마인가? <br/><br/> 
이미 점들의 길이를 무한번 더하면 길이가 생긴다고 주장한 상태이므로 길이가 0이라고 주장할 수 없다. 따라서 길이가 있다고 주장해야 한다. 단순히 길이가 $2\pi$라고 주장한다면 바로 모순에 빠짐을 알 수 있다. (길이가 $2\pi$라고 주장한다면 $[0,2\pi)$ 에서 무리수만 뽑아낸 집합의 길이가 뭐냐고 따질수가 있음.) 길이는 일단 0보다 커야하고 $2\pi$보다 작아야함은 자명하므로 그 사이에 있는 어떤 값이 길이라고 주장하자. (구체적으로 어떤값인지는 모른다고 하자.) 따라서 (4)에 대한 답은 ''구체적으로 얼마인지는 모르겠지만 길이가 분명 존재하고 그 길이는 0 보다 크고 $2\pi$ 보다는 작은 어떠한 값이다.'' 정도로 정리할 수 있다. 하지만 이 주장은 결국 모순에 빠지게 된다. 

- 모순에 빠지는 이유는 아래와 같은 질문을 할 수 있기 때문이다. <br/><br/> 
(5) $[0,2\pi)$ 에서 유리수만 뽑아낸 집합이 있다고 하자. 이 집합을 편의상 $A$ 라고 정의하자. 이 집합을 $\pi$만큼 평행이동 시킨 집합을 $A'$라고 하자. $A$의 모든 원소는 유리수인데 $A'$의 모든 원소는 무리수이다. 따라서 두 집합사이의 교집합은 없다. 따라서 $A \cup A'$의 길이는 각 집합의 길이를 더한것과 같다. 그런데 $A'$는 단순히 $A$를 평행이동한것일 뿐이므로 두 집합의 길이는 같다. 즉 집합 $A$의 길이를 $m$이라고 한다면 집합 $A \cup A'$의 길이는 $2m$이라고 주장할 수 있다. 그런데 상식적으로 생각해보면 $A \cup A'$의 길이는 $1.5m$보다 작아야 함을 알 수 있다. 그렇다면 도데체 $A \cup A'$의 길이는 얼마인가? <br/><br/>
이 질문은 지금까지 제시한 논리로 방어가 불가능하다. 이처럼 논리적인 모순없는 체계를 만드는 것은 매우 어려운 일이다. 결론적으로 말하면 아래와 같이 가정하면 위의 모든 질문에 대한 대답을 논리적 모순없이 설계할 수 있다. <br/><br/> 
(i) 한 점에 대한 길이는 $0$ 이다. <br/>
(ii) $[0,2\pi)$ 사이의 모든 유리수를 더한 집합은 그 길이가 $0$이다. <br/>
(iii) $[0,2\pi)$ 사이의 모든 무리수를 더한 집합은 그 길이가 $2\pi$이다. <br/><br/> 
이러한 가정을 하면 앞서 제기한 모든 질문에 대한 답을 모순없이 정의할 수 있다. 

- 그렇다면 아래와 같이 주장할 수 있을까? <br/><br/>
**위의 3가지 원리 (i)-(iii)을 사용하면 $[0,2\pi)$의 어떤 부분집합에 대하여서도 그 집합의 길이를 모순없이 정의할 수 있다.**
<br/><br/>
결론적으로 말하면 이 주장은 틀렸다. 

- 이 주장이 틀린이유를 설명하겠다. 이 주장이 틀린 이유는 <br/><br/>
**위의 3가지 원리 (i)-(iii)을 사용하여도 길이를 모순없이 정의불가능한 어떠한 집합이 $[0,2\pi)$내에 존재하기 때문** <br/><br/>
이다. 이제 이러한 집합이 무엇인지 살펴보겠다. 먼저 아래와 같은 관계를 정의하자. <br/><br/>
***두 실수 $x,y$에 대하여  $x-y \in \mathbb{Q}$ 이면 $x\sim y$ 라고 정의한다.***<br/><br/>
이러한 관계를 동치관계라고 한다. 참고로 어떤 집합 (여기에서는 $[0,2\pi)$ 임) 내의 원소간 동치관계가 존재하면 그 동치관계를 이용하여 $[0,2\pi)$의 파티션을 항상 만들 수 있다. 임의의 실수 $x \in [0,2\pi)$에 대하여 동치관계가 성립하는 실수들을 모은 집합을 $[x]$라고 정의하자. 즉 
\begin{align}
[x]=\\{y: x\sim y, y \in \mathbb{R}\\} \cap [0,2\pi)
\end{align}
이다. 여기에서 $[x]$를 equivalence class라고 한다. 그런데 아래가 항상 성립한다. 
\begin{align}
[0,2\pi) \subset \bigcup_{x\in [0,2\pi)}[x]
\end{align}
그리고 아래가 성립한다. 
\begin{align}
[0,2\pi) \supset \bigcup_{x\in [0,2\pi)}[x]
\end{align}
따라서 아래가 성립한다. 
\begin{align}
[0,2\pi) = \bigcup_{x\in [0,2\pi)}[x]
\end{align}
그리고 아래의 관계도 성립한다. 
\begin{align}
[x]\neq[y] \Longrightarrow [x] \cap [y] = \emptyset 
\end{align}
따라서 $[0,2\pi)$의 파티션이 존재한다. 
\begin{align}
[0,2\pi)=\bigcup_ {t\in {\cal T} }A_t
\end{align}
여기에서 $A_t=\\{s: t-s \in \mathbb{Q} \\} \cap [0,2\pi)$ 이고 $t$는 각 파티션을 대표하는 원소라고 하자. (예를들어 $A_t$에서 제일 작은 원소라든가) 그리고 ${\cal T}$는 단순히 대표원소들의 집합이라고 하자. 이제 이 파티션에서 원소를 하나씩만 선택하여 어떤 집합 $V$를 만들었다고 하자. 그럼 이 집합은 (i)-(iii)의 원리에 의해서도 길이를 잴 수 없다. 

- 이제부터 왜 $V$가 잴수없는 집합인지 설명하겠다. 증명을 위해서 $V$가 잴수있는 집합이라고 하자. 즉 집합 $V$의 길이를 잴수 이있고 그 길이를 $m$이라고 하자. 즉 $\mu(V)=m$이라고 가정하자. 여기에서 $\mu$는 르벡메져이다. 그리고 아래의 집합들을 정의한다. <br/><br/>
**구간 $(-\pi,\pi)$에서 유리수만 모은 집합을 $Q^{\star}$라고 정의하자.**<br/><br/>
**$Q^{\star}$에서 적당한 유리수 하나를 뽑아서 $V$를 평행이동 시킨 집합 $V_q$를 정의하자.** <br/><br/> 
이때 위에서 언급합 $V_q$는 좀더 형식적으로 쓰면 $V_q:=\\{v+q: v\in V, q\in Q^{\star} \\}$와 같이 쓸 수 있다. 이 집합 $V_q$는 매우 오묘한 특징이 있는데 우선 아래들이 성립한다. <br/><br/>
(1) $V_q$의 길이는 $V$의 길이와 같다. <br/>
(2) 서로 다른 $q_1,q_2 \in Q^{\star}$에 대하여 

