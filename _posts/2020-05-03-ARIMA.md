---
layout : post 
title : (정리) ARIMA 
---


### 7장 인트로 

- 비정상시계열의 종류의 대표적특성: (1) 시계열의 수준이 시간대에 따라 다름 (2) 시계열이 추세를 가짐 (3) 시계열이 계절성을 보임 (4) 분산이 시간에 따라 변함. 

- 여기에서 수준이 시간대에 따라 다르다는것은 계절성과 추세를 모두 포함하는 단어임. 

- 핵심아이디어: 비정상시계열중에서 아깝게 정상이 되지 못한 시계열이 있다. 이런 시계열은 간단한 처리을 통하여 정상으로 바꿔주고 분석을 한다. 추후에는 이러한 분석의 역을 취한다. 

- 추세가 있는 경우는 추세를 제거한뒤에 분석한다. 그리고 추세를 넣고 예측한다. 

- 계절성이 있는 경우는 계절성을 제거한뒤에 분석한다. 그리고 계절성을 넣고 예측한다. 

- 적분텀이 있는 경우는 미분한다음 분석하고 분석결과를 적분한다. 


### 예제 7.1 

- 추세가 있으며 분산이 불안한 예제.

- 결정적추세와 확률적 추세의 구분법 설명.

- 분산안정화변환: 로그변환, 제곱근변환.


### 7.1.1 분산이 일정하지 않을때 

- 분산안정화변환을 한다. 

- 이론적인 근거를 체크하자. 


### 7.1.2 수준이 일정하지 않은 경우 

***추세***

- 추세를 제거하기 위한 방법으로 분해법과 차분법이 있음. 일반적으로 결정적추세를 가지는지 확률적추세를 가지는지 구분을 하여 결정적추세를 가질경우는 분해법을 추천하고 확률적추세를 가지면 차분법을 추천함. 

- 모형1: $Z_t=T_t+S_t+I_t$. 

- 모형1은 분해법이 더 어울림. (동일한 추세, 동일한 계절패턴이 반복되므로)

- 각 모형에 따라서 분해법을 쓰거나 차분법을 쓰는것이 적절하거나 어색할 수 있음. 

- 분해법의 단점: 확률적 추세를 가지는 모형에서 활용불가능. 왜냐? 예측모형이 이상해지기 때문임. (이자율 그림 7-3에서 3차다항식으로 스무딩시킨다면?!)

- 차분법의 단점: 정보의 손실, 과대차분의 위험성. 

- 결정적추세라고 할지라도 차분해서 해결가능. 특히 직선의 트렌드가 있는 경우 하나의 자료손실로 해결가능. 하지만 추천하지 않음. (2차차분, 3차차분이 필요한 경우 존재함. d차 다항식이라면 d차 차분해야함) 

- 결정적추세: 안정적으로 증가하는 경향이 있는 자료 / 계절성이 있어보이는 자료 / 결정적추세가 있다고 믿어지는 자료.

- 확률적추세: 결정적추세일리가 없다고 믿어지는 자료 / 교재에서는 이자율. 이자율은 결정적 추세일리가 없다는 이론적인 특성에 기반함. 하지만 모든 자료를 이런식으로 나이브하게 해석할 수 없음. => 단위근검정 

***계절성***

- 결정적 계절추세, 확률적 계절추세 (10장)

- 결정적 계절추세는 분해법으로 확률적 계절추세는 $(1-B^s)$를 통하여 정상화가능. 하지만 결정적 계절추세도 $(1-B^s)$를 통하여 정상화가능. 

- 확률적계절추세가 있는지는 계절형 단위근검정을 활용하여 판단한다. 

- 1차차분과 주기가 s인 계절차분을 동시에 적용? 


### 7.2 ARIMA모델

- $d$차분을 하였더니 ARMA($p$,$q$)가 된 경우. 

- 모형: $\boldsymbol(\phi)(B)(1-B)^d(Z_t-\mu)=\boldsymbol{\theta}(B)\epsilon_t$. 

- 차분이 필요한 경우(=차분을 해야겠다고 마음먹는 경우): (1) 추세를 가지고 있음 (2) SACF가 느리게 감소 (3) 단위근검정 

- 교재의 설명: 매우 지루하지만 건질만한 포인트가 있음. $Z_t=Z_{t-1}+\epsilon_t$의 경우 AR(1)로 보지 않고 ARIMA(0,1,0)으로 해석한다는 것! 즉, AR모형은 기본적으로 (causal하지 않은 경우를 포함한) 정상을 가정한다는 것. 

- 용어정리: ARIMA(1,1,0)의 경우 ARI(1,1)이라고 표현하고 ARIMA(0,1,1)의 경우 IMA(1,1)이라고 표현하기도 함. 의미없음. 


### 7.3 과대차분 

- 차분을 무한정 한다면 자료의 손실은 있지만 모든 추세를 언젠가 제거할수 있지 않을까? 

- 하지만 이런것은 좋지 않다. 교재의 예제의 경우 과대차분에 의해서 (1) 모형이 복잡해지고 (2) 가역성의 조건등이 만족되지 않아지며 (3) 분산도 더 커지는 (예측을 더 어렵게함) 경우가 생겼다. 


### 분산안정화 변환 

- 가장 흔하게 분산이 변하는 경우는 평균이 커짐에 따라서 분산도 같이 커지는 경우이다. 즉 아래와 같은 경우이다. 
\begin{align}
V(Z_t)=cf(\mu_t)
\end{align}
여기에서 $c$는 양수라고 가정하자. 우리의 목표는 적당한 변환 $T$를 찾아서 
\begin{align}
V(T(Z_t)) = const
\end{align}
처럼 되도록 하는 것이다. 

- $T(Z_t)$를 테일러 전개하면 아래와 같이 된다. 
\begin{align}
T(Z_t) \approx T(\mu_t)+ T'(\mu_t)(Z_t-\mu_t)
\end{align}
양변에 분산을 취하자. 
\begin{align}
V\left[T(Z_t)\right] \approx \left[T'(\mu_t)\right]^2 V(Z_t)
\end{align}
그런데 $V(Z_t)=cf(\mu_t)$라고 하였으므로, 
\begin{align}
V\left[T(Z_t)\right] \approx c \left[T'(\mu_t)\right]^2 f(\mu_t)
\end{align}
와 같이 된다. 

- $V[T(Z_t)]$를 상수로 만들기 위해서는 어떻게 해야할까? $c$는 이미 상수이므로, 만약 $T'(\mu_t)=\frac{1}{\sqrt{f(\mu_t)}}$이면 
\begin{align}
V\left[T(Z_t)\right] \approx c \left[T'(\mu_t)\right]^2 f(\mu_t) = c \left[\frac{1}{\sqrt{f(\mu_t)}}\right]^2 f(\mu_t)
\end{align}